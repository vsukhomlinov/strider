<div ng-controller="ManualController" class="well" role="tabpanel">
  <ul class="nav nav-tabs">
    <li role="presentation" ng-repeat="(providerName, provider) in providers" ng-class="{active:!$index}">
      <a href="#provider_[[$index]]" data-toggle="tab" class="active">[[provider.provider.title]]</a>
    </li>
  </ul>
  <div class="tab-content">
    <div ng-repeat="(providerName, provider) in providers" ng-class="{active:!$index, 'tab-pane':true}"
         role="tabpanel"
         id="provider_[[$index]]">
      <form name="create_[[$index]]">
        <h3>[[provider.provider.title]]</h3>

        <div class="general">
          <p>
            <small>Public projects are visible to unauthenticated users.</small>
          <div ng-model="newProjectConfig.public" class="btn public-btn" btn-checkbox>Public</div>
          </p>

          <p>
            <small>External link to the project</small>
            <br/>
            <input type="text" ng-model="newProjectConfig.display_url" placeholder="External project URL">
          </p>

          <p>
            <small>A github-style namespace/name combination for the project. e.g. Strider-CD/strider</small>
            <br/>
            <input type="text" required ng-pattern="/[\w-]\/[\w-]/" ng-model="newProjectConfig.display_name"
                   placeholder="user/repository">
          </p>
        </div>
        <div plugin-template="provider.provider.html"></div>

        <button ng-disabled="!create_[[$index]].$valid" class="btn btn-primary" ng-click="create(providerName, newProjectConfig)">
          Create New
        </button>
      </form>
    </div>

    <ul class="unstyled repo-list">
      <li class="repo" ng-repeat="project in projects">
        <div>
          <a ng-show="project.display_url" href="[[ project.display_url ]]" target="_blank"
             class="hosted-url">
            <i class="fa fa-globe"></i>
          </a>
          <a class="view-jobs" href="/[[ project.name ]]/">[[ project.display_name ]]</a>

          <div class="pull-right">
            <button ng-show="project.really_remove" class="btn btn-danger" ng-click="remove(project)"
                    ng-disabled="project.really_remove === 'removing'">
              <i class="fa fa-refresh fa-spin" ng-show="project.really_remove === 'removing'"></i>
              Really remove
            </button>
            <a href="/[[ project.name ]]/config" data-toggle="tooltip" title="Configure"><i
                class="fa fa-wrench"></i></a>
            <button class="btn btn-danger" ng-click="project.really_remove = true"
                    ng-disabled="project.really_remove">Remove
            </button>
          </div>
        </div>
      </li>
    </ul>
  </div>
